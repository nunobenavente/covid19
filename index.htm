<!doctype html>
<html>
<head>
<meta charset="utf-8">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
<title>Dados COVID-19</title>

<style>
#logLog {
	width: 70%;
  	height: 900px;
	float: left;
	/*margin: 10px;*/
	padding: 10px;
  	border: 0px solid #aaaaaa;
  	background-color: #222a35;
}
#barrasLinear {
	width: 30%;
	height:35%;
  	float: right;
	margin: 5px;
	padding: 0px;
  	border: 0px solid #aaaaaa;
  	background-color: #222a35;
}
</style>

</head>

<body style="background-color:#222">
	<div id="logLog" class="container">
    	<canvas id="logLogCanvas" style="background-color:#222a35"></canvas>
    </div>
	<div id="barrasLinear" class="container">
    	<canvas id="barrasCanvas" style="background-color:#222a35"></canvas>
    </div>
    <script>
    	let myChart = document.getElementById('logLogCanvas').getContext('2d');
		
		//GLOBAL OPTIONS
		//Chart.defaults.global.defaultFontFamily = 'Lato';
		Chart.defaults.global.defaultFontFamily = "Trebuchet MS, Helvetica, sans-serif";
		Chart.defaults.global.defaultFontColor = 'rgba(217, 217, 217, 1';
		Chart.defaults.global.defaultFontSize = 10;
		Chart.defaults.global.showLines = true;
		Chart.defaults.global.legend.labels.boxWidth = 10;
		Chart.defaults.global.legend.position = 'bottom';
		Chart.defaults.global.layout.padding = 10;
						
		let logLogChart = new Chart(myChart, {
			type: 'scatter', // bar, horizontalBar, pie, line, doughnut, radar, polarArea
			data: {
		        datasets: [{
        		    label: 'POR',
					showLine:true,
					borderColor:'rgba(255, 255, 255, 0.9)',
					backgroundColor:'rgba(255, 255, 255, 0.9)',
					
					fill:false,
            		data: [
					{x: 2, y: 2},
					{x: 4, y: 4},
					{x: 6, y: 6},
					{x: 9, y: 9},
					{x:13, y:13},
					{x:21, y:21},
					{x:30, y:30},
					{x:39, y:37},
					{x:41, y:37},
					{x:59, y:53},
					{x:78, y:69},
					{x:112, y:99},
					{x:169, y:148},
					{x:245, y:215},
					{x:331, y:292},
					{x:448, y:407},
					{x:642, y:583},
					{x:785, y:707},
					{x:1020, y:908},
					{x:1280, y:1111},
					{x:1600, y:1355},
					{x:2060, y:1729},
					{x:2362, y:1914},
					{x:2995, y:2353},
					{x:3544, y:2759},
					{x:4268, y:3248},
					{x:5170, y:3890},
					{x:5962, y:4362},
					{x:6408, y:4348},
					{x:7443, y:5081},
					{x:8251, y:5256},
					{x:9034, y:5490},
					{x:9886, y:5618},
					{x:10524, y:5354},
					{x:11278, y:5316},
					{x:11730, y:5322},
					{x:12442, y:4999},
					{x:13141, y:4890},
					{x:13956, y:4922}
					]
        		},
				{
        		    label: 'SPA',
					showLine:true,
					fill:false,
					borderWidth: 1,
					borderColor:'pink',
					//pointRadius: 3,
					backgroundColor:'pink',
            		data: [
					{x: 1, y: 1},
					{x: 5, y: 5},
					{x: 10, y: 10},
					{x: 23, y: 23},
					{x:32, y:32},
					{x:64, y:64},
					{x:81, y:81},
					{x:112, y:111},
					{x:149, y:144},
					{x:198, y:188},
					{x:259, y:236},
					{x:372, y:340},
					{x:428, y:364},
					{x:587, y:506},
					{x:1202, y:1090},
					{x:1637, y:1488},
					{x:2138, y:1940},
					{x:3002, y:2743},
					{x:4229, y:3857},
					{x:5751, y:5323},
					{x:7751, y:7164},
					{x:9189, y:7987},
					{x:11176, y:9539},
					{x:13714, y:11576},
					{x:17145, y:14143},
					{x:19978, y:15749},
					{x:24924, y:19173},
					{x:28570, y:20819},
					{x:33087, y:23898},
					{x:39671, y:28495},
					{x:47608, y:33894},
					{x:56186, y:39041},
					{x:64057, y:44079},
					{x:72246, y:47322},
					{x:78795, y:50225},
					{x:85193, y:52106},
					{x:94415, y:54744},
					{x:102134, y:54526},
					{x:110236, y:54050},
					{x:117708, y:53651},
					{x:124734, y:52488},
					{x:130757, y:51962},
					{x:135030, y:49837},
					{x:140508, y:46093},
					{x:146688, y:44554}
					]
        		},
				{
        		    label: 'GER',
					showLine:true,
					fill:false,
					borderWidth: 1,
					borderColor:'rgba(255, 255, 0, 1)',
					backgroundColor:'rgba(255, 255, 0, 1)',
            		data: [
					{x: 1, y: 1},
					{x: 4, y: 4},
					{x: 4, y: 4},
					{x: 5, y: 5},
					{x:7, y:7},
					{x:8, y:8},
					{x:9, y:9},
					{x:11, y:10},
					{x:11, y:7},
					{x:11, y:7},
					{x:12, y:7},
					{x:13, y:6},
					{x:13, y:5},
					{x:13, y:4},
					{x:13, y:2},
					{x:15, y:4},
					{x:15, y:4},
					{x:15, y:3},
					{x:15, y:2},
					{x:15, y:2},
					{x:15, y:2},
					{x:15, y:2},
					{x:16, y:1},
					{x:16, y:1},
					{x:16, y:1},
					{x:16, y:1},
					{x:16, y:1},
					{x:16, y:1},
					{x:16, y:1},
					{x:18, y:2},
					{x:21, y:5},
					{x:47, y:31},
					{x:57, y:41},
					{x:111, y:95},
					{x:129, y:113},
					{x:157, y:141},
					{x:196, y:178},
					{x:262, y:241},
					{x:400, y:353},
					{x:684, y:627},
					{x:847, y:736},
					{x:902, y:773},
					{x:1139, y:982},
					{x:1296, y:1100},
					{x:1567, y:1305},
					{x:2369, y:1969},
					{x:3062, y:2378},
					{x:3795, y:2948},
					{x:4838, y:3936},
					{x:6012, y:4873},
					{x:7156, y:5860},
					{x:8198, y:6631},
					{x:14138, y:11769},
					{x:18187, y:15125},
					{x:21463, y:17668},
					{x:24774, y:19936},
					{x:29212, y:23200},
					{x:31554, y:24398},
					{x:36508, y:28310},
					{x:42288, y:28150},
					{x:48582, y:30395},
					{x:52547, y:31084},
					{x:57298, y:32524},
					{x:61913, y:32701},
					{x:67366, y:35812},
					{x:73522, y:37014},
					{x:79696, y:37408},
					{x:85778, y:37196},
					{x:91714, y:39167},
					{x:95391, y:38093},
					{x:99225, y:37312},
					{x:103228, y:35862},
					{x:108202, y:34680}
					]
        		},
				{
        		    label: 'NL',
					showLine:true,
					fill:false,
					borderWidth: 1,
					borderColor:'rgba(212, 97, 18, 1)',
					backgroundColor:'rgba(212, 97, 18, 1)', // Preenchimento dos pontos
					
            		data: [
					{x:1, y:1},
					{x:2, y:2},
					{x:7, y:7},
					{x:13, y:13},
					{x:18, y:18},
					{x:28, y:28},
					{x:38, y:38},
					{x:82, y:81},
					{x:128, y:126},
					{x:188, y:181},				
					{x:265, y:252},
					{x:321, y:303},
					{x:382, y:354},
					{x:503, y:465},
					{x:614, y:532},
					{x:804, y:676},
					{x:959, y:771},
					{x:1135, y:870},
					{x:1413, y:1092},
					{x:1705, y:1323},
					{x:2051, y:1548},
					{x:2460, y:1846},
					{x:2994, y:2190},
					{x:3631, y:2672},
					{x:4204, y:3069},
					{x:4749, y:3336},
					{x:5560, y:3855},
					{x:6412, y:4361},
					{x:7431, y:4971},
					{x:8603, y:5609},
					{x:9762, y:6131},
					{x:10866, y:6662},
					{x:11750, y:7001},
					{x:12595, y:7035},
					{x:13614, y:7202},
					{x:14697, y:7266},
					{x:15723, y:7120},
					{x:16627, y:6865},
					{x:17851, y:6985},
					{x:18803, y:7053},
					{x:19580, y:6985},
					{x:20549, y:6935}
					]
        		},
				{
        		    label: 'GLOBAL',
					showLine:true,
					borderWidth: 2,
					borderColor:'red',
					backgroundColor:'red',
					
					fill:false,
            		data: [
					{x:455, y:455},
					{x:654, y:654},
					{x:941, y:941},
					{x:1400, y:1400},
					{x:2100, y:2100},
					{x:2900, y:2900},
					{x:5600, y:5600},
					{x:6200, y:5745},
					{x:8200, y:7546},
					{x:9900, y:8959},
					{x:12000, y:10600},
					{x:16800, y:14700},
					{x:19900, y:17000},
					{x:23900, y:18300},
					{x:27600, y:21400},
					{x:30800, y:22600},
					{x:34400, y:24500},
					{x:37100, y:25100},
					{x:40100, y:23300},
					{x:42800, y:22900},
					{x:44800, y:20900},
					{x:45200, y:17600},
					{x:60400, y:29600},
					{x:66900, y:32500},
					{x:69000, y:31900},
					{x:71200, y:31100},
					{x:73300, y:30500},
					{x:75100, y:30300},
					{x:75600, y:30400},
					{x:76200, y:15800},
					{x:76800, y:9900},
					{x:78600, y:9600},
					{x:79000, y:7800},
					{x:79600, y:6300},
					{x:80400, y:5300},
					{x:81400, y:5800},
					{x:82700, y:6500},
					{x:84100, y:7300},
					{x:86000, y:7400},
					{x:88400, y:9400},
					{x:90300, y:10700},
					{x:92800, y:12400},
					{x:95100, y:13700},
					{x:97900, y:15200},
					{x:101800, y:17700},
					{x:105800, y:19800},
					{x:109800, y:21400},
					{x:113600, y:23300},
					{x:118600, y:25800},
					{x:125900, y:30800},
					{x:128400, y:30500},
					{x:145200, y:43400},
					{x:156100, y:50300},
					{x:167500, y:57700},
					{x:181600, y:68000},
					{x:197100, y:78500},
					{x:214800, y:88900},
					{x:242500, y:114100},
					{x:272000, y:126800},
					{x:303400, y:147300},
					{x:337090, y:169500},
					{x:378200, y:196600},
					{x:418000, y:220900},
					{x:467700, y:252900},
					{x:529600, y:287100},
					{x:593300, y:321300},
					{x:660700, y:357300},
					{x:720100, y:383100},
					{x:782400, y:404200},
					{x:857500, y:439500},
					{x:932600, y:464900},
					{x:1000000, y:470400},
					{x:1100000, y:506700},
					{x:1200000, y:539300},
					{x:1249107, y:529007},
					{x:1280046, y:497646},
					{x:1359398, y:501898},
					{x:1441128, y:508528},
					{x:1490790, y:490790}
					]
        		},
				{
        		    label: '1 Milhao Infectados',
					showLine:true,
					fill:false,
					borderWidth: 1,
					borderColor:'rgba(200, 200, 200, 0.5)',
            		data: [
					{x: 1000000, y: 1},
					{x: 1000000, y: 1000000},

					]
        		}]
    		},
    		options: {
				title:{
					display:true,
					text:'COVID19 no Mundo - Evolu\xE7\xE3o dos casos confirmados',
					fontSize:18
				},
        		scales: {
            		xAxes: [{
                		type: 'logarithmic',
                		position: 'bottom',
						scaleLabel: {
        					display: true,
        					labelString: 'TOTAL DE CASOS (escala LOG)',
							fontSize: 14,
							padding: 10
      					},
						gridLines: {
							color: 'rgba(200, 200, 200, 0.05)',
							zeroLineColor: 'rgba(200, 200, 200, 0.05)'
						},
						ticks: {
							//callback: function(value, index, values) {//needed to change the scientific notation results from using logarithmic scale
                            //return Number(value.toString());//pass tick values as a string into Number function
							//},
							fontSize: 10
							//max: 2000000
						}
           			}],
					yAxes: [{
 		               	id: 'left-y-axis',
        		       	type: 'logarithmic',
                		position: 'left',
						scaleLabel: {
        					display: true,
        					labelString: 'CASOS \xDALTIMOS 7 DIAS (escala LOG)',
							fontSize: 14,
							padding: 10
      					},
						gridLines: {
							color: 'rgba(200, 200, 200, 0.05)',
							zeroLineColor: 'rgba(200, 200, 200, 0.05)'
						},
						ticks: {
							//callback: function(value, index, values) {//needed to change the scientific notation results from using logarithmic scale
                            //return Number(value.toString());//pass tick values as a string into Number function
							//},
							fontSize: 10
							//max: 1000000
							
						}
            		}]
        		},

				elements: {
        		    line: {
                		tension: 0 // disables bezier curves
            		},
					point: {
                        radius: 1.2
                    }
       			},
				
				tooltips: {
					//mode: 'point'
		            callbacks: {
						title: function(tooltipItems, data) {
               			return data.datasets[tooltipItems[0].datasetIndex].label;
						}
					}
				},
				responsive: true,
  				//maintainAspectRatio: false
				aspectRatio: 1.5
    		}
		}
		);
		
		let barrasChart = document.getElementById('barrasCanvas').getContext('2d');
		let barras = new Chart(barrasChart, {	
			type: 'bar', // bar, horizontalBar, pie, line, doughnut, radar, polarArea
			data: {
				labels:['UK', 'NL', 'SPA', 'BRA', 'USA', 'POR', 'GER', 'KOR'],
				datasets:[
					{
					label:'Letalidade',
					data:[
						11.57,
						10.90,
						10.00,
						5.07,
						3.42,
						2.93,
						2.07,
						1.96
					],
					//backgroundColor:'Green'	
					backgroundColor:[
						'rgba(46, 117, 182, 0.9)',
						'rgba(46, 117, 182, 0.9)',
						'rgba(46, 117, 182, 0.9)',
						'rgba(46, 117, 182, 0.9)',
						'rgba(46, 117, 182, 0.9)',
						'green',
						'rgba(46, 117, 182, 0.9)',
						'rgba(46, 117, 182, 0.9)'
					],
					hoverBorderWidth:2,
					hoverBorderColor:'#fff',
					fill: false,
					order: 2
					},
					{
					label: 'Global',
					borderColor:'rgba(255, 255, 255, 0.8)',
					borderWidth: 2,
					backgroundColor: 'rgba(255, 255, 255, 0.01',
					data: [6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0],
					type: 'line',
					pointRadius: 0,
					order: 1
					}					
				]
			},
			options: {
				title:{
					display:true,
					text:'COVID19 - Letalidade',
					fontSize:18
				},
				legend: {
		            display: false
				},

				tooltips: {
					//mode: 'point'
		            callbacks: {
        				label: function(tooltipItem, data) {
        					var dataset = data.datasets[tooltipItem.datasetIndex];
          					var total = dataset.data.reduce(function(previousValue, currentValue, currentIndex, array) {
          					return previousValue + currentValue;
          					});
          					var currentValue = dataset.data[tooltipItem.index];
          					return currentValue + "%";
        				}
      				}
				},
				responsive: true,
				aspectRatio: 1.5
			}
    	}
		);		
		//var endereco = logLogChart.toBase64Image();
		//document.write(endereco) 
    </script>
</body>
</html>
